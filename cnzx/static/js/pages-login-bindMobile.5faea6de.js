(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-bindMobile"],{2509:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABxElEQVRYR+2WsUscQRTGv2+DhZb6D6QTkn7nrJIr1MoykIBFGq1yuznEQptoZSGi3toFkipiHQKijRERb48QtNDW6rokBCIBQfeTPa6w8HZm75Qj4aad977345s3b4bo8mKX66MH8G864IcahzBC4VnaQyLqXoJP1Q1u5+2p3A6YUJsQXoE4pVBtAhQgPAWx7XmYOlpl3RUkF4AJJAA/KMxXI76/XcQP9YJAGUL/pYfi8Rp/u0A4A/ih5inMxBUOZQmbQN9AHMTrLN8bgClpDMSOiInaOr9kCRfe6Lk87EEYjyPu2iCcHDCB5iC8jiMO2wTTfRPoBMBWXOGSLd4NoKQtEVe1Cidtgg2AUB+RoD+O+NIW7wqwJ2K/VuGCTTDd9wMtpFc0jli0xWcCmJKegFiGMGATunOf+AthNo541iq/JcBIWYPJNX4KWGyreDOJwDvvEYaOVvnrLp2WAHlszLyWJWUeXw+gIwdMqFEkqGc1mXnII7CJN2bCfw3gB/oM4HvWgHpQB1zmQw+gbQcKb/VYCc7vYxQzQbG6wa+5RnHzXZ9u/P86WOkr2neBlcMP/JMboIO6zqlO/wFntTYCewBdd+AGpJ0EMDf5nFUAAAAASUVORK5CYII="},3330:function(t,e,n){"use strict";n.r(e);var i=n("a31f"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"5fbe":function(t,e,n){"use strict";var i=n("872e"),o=n.n(i);o.a},"872e":function(t,e,n){var i=n("e290");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("332cadfd",i,!0,{sourceMap:!1,shadowMode:!1})},"8fd4":function(t,e,n){"use strict";n.r(e);var i=n("d28e"),o=n("3330");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("5fbe");var s,c=n("f0c5"),l=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"21f6f483",null,!1,i["a"],s);e["default"]=l.exports},a31f:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("d3b7");var i=n("751a"),o={data:function(){return{uid:1,type:"member",account:"",password:"",isdisabled:!1,shot_code:"",realname:"",mobile:"",codeText:"获取验证码",shot_event:"mobile_bind_login",wx_code:"",is_bind:!0}},methods:{mobileLogin:function(e){var n=this;t.log(e.detail.userInfo),"undefined"!=typeof e.detail.userInfo?this.mobile?this.shot_code?new Promise((function(e,n){uni.login({provider:"weixin",scopes:"auth_user",success:function(n){t.log(123),e(n)}})})).then((function(o){t.log(e.detail);var a=e.detail;(0,i.wxMpRegister)({mobile:n.mobile,shot_code:n.shot_code,iv:a.iv,encryptedData:a.encryptedData,signature:a.signature,wx_code:o.code}).then((function(t){n.setUserInfo(t)}))})):uni.showModal({title:"系统提示",content:"请填写短信验证码"}):uni.showModal({title:"系统提示",content:"请填写手机号"}):uni.showModal({title:"系统提示",content:"请授权微信登录"})},mobileBindLogin:function(){var t=this;this.realname||uni.showModal({title:"系统提示",content:"请填写真实姓名"}),this.mobile||uni.showModal({title:"系统提示",content:"请填写手机号"}),(0,i.mobileBindLogin)({realname:this.realname,mobile:this.mobile,shot_code:this.shot_code,wx_code:this.wx_code}).then((function(e){e&&t.setUserInfo(e)}))},wechatAuthCheck:function(){var t=this;(0,i.wechatAuthCheck)({wx_code:this.wx_code}).then((function(e){e?t.setUserInfo(e):(uni.hideLoading(),t.loadding=!1)}))},setUserInfo:function(t){uni.setStorageSync("user_info",t),this.store.commit("fn_set_user_info",t);var e=uni.getStorageSync("page");e?this.redirect(e):this.redirect("/pages/index/index")},getShotCode:function(){var t=this;this.mobile?(this.isdisabled=!0,this.setTime(),(0,i.smsSend)({mobile:this.mobile,event:this.shot_event}).then((function(e){t.setTime()})).then((function(e){t.isdisabled=!1}))):uni.showModal({title:"提示",content:"请输入您的手机号码"})},setTime:function(){var t=this,e=60;this.isdisabled=!0;var n=setInterval((function(){t.codeText=--e+"秒后重发",t.isdisabled=!0}),1e3);setTimeout((function(){t.isdisabled=!1,t.codeText="获取验证码",clearInterval(n)}),1e3*e)}},onLoad:function(){}};e.default=o}).call(this,n("5a52")["default"])},d28e:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.is_bind?i("v-uni-view",[i("v-uni-view",{staticClass:"container mar-t-30"},[i("v-uni-view",{staticClass:"login-bm"},[i("v-uni-image",{staticClass:"logo",attrs:{src:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-cc38d26a-ff71-44e5-8591-2f0ef9d06033/35ff295f-31c3-4338-8a47-8fb330b23872.png"}})],1),i("v-uni-view",{staticClass:"login-box bac-color-fff"},[i("v-uni-view",{staticClass:"pos-rel "},[t.wx_code?i("v-uni-view",{staticClass:"flex text-middle align-center pad-l-20 mar-t-20"},[i("v-uni-image",{staticClass:"w-h-20",attrs:{src:n("2509")}}),i("v-uni-input",{staticClass:"user-account flex-1",attrs:{type:"text",placeholder:"真实姓名"},model:{value:t.realname,callback:function(e){t.realname=e},expression:"realname"}})],1):t._e(),i("v-uni-view",{staticClass:"flex text-middle align-center pad-l-20 mar-t-20"},[i("v-uni-image",{staticClass:"w-h-20",attrs:{src:n("2509")}}),i("v-uni-input",{staticClass:"user-account flex-1",attrs:{type:"text",placeholder:"手机号码"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),i("v-uni-view",{staticClass:"flex text-middle align-center  pad-l-20 pad-r-10"},[i("v-uni-image",{staticClass:"w-h-20",attrs:{src:n("ff87")}}),i("v-uni-input",{staticClass:"user-password flex-1",attrs:{type:"text",placeholder:"验证码"},model:{value:t.shot_code,callback:function(e){t.shot_code=e},expression:"shot_code"}}),i("v-uni-button",{staticClass:"font-size-13  verification",attrs:{disabled:t.isdisabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getShotCode.apply(void 0,arguments)}}},[t._v(t._s(t.codeText))])],1)],1)],1),i("v-uni-view",{staticClass:"text-center mar-t-30"},[t.wx_code?i("v-uni-button",{staticClass:"login-btn text-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.mobileBindLogin.apply(void 0,arguments)}}},[t._v("认证")]):i("v-uni-button",{staticClass:"login-btn text-center",attrs:{"open-type":"getUserInfo"},on:{getuserinfo:function(e){arguments[0]=e=t.$handleEvent(e),t.mobileLogin.apply(void 0,arguments)}}},[t._v("登录")])],1)],1)],1):t._e()},a=[]},e290:function(t,e,n){var i=n("4bad");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.container[data-v-21f6f483]{position:absolute;left:0;right:0;top:0;bottom:0;margin:0 auto}uni-page-body[data-v-21f6f483]{background-color:#f4f6f8}.login-box[data-v-21f6f483]{box-shadow:1px 2px 3px rgba(204,201,201,.5);border-radius:10px}.login-box .user-radio[data-v-21f6f483], .login-box .counselor-radio[data-v-21f6f483]{padding:16px 20px;background-color:#ececec;color:#616161;font-size:15px}.login-box .active[data-v-21f6f483]{background-color:#fff;color:#616161}.login-bm[data-v-21f6f483]{\n  /* height: 100vw; */width:100%;text-align:center}.login-bm .logo[data-v-21f6f483]{height:%?400?%;width:%?400?%}.login-btn[data-v-21f6f483]{display:inline-block;padding-left:30px!important;padding-right:30px!important;height:45px;line-height:45px;background-color:#08f;color:#fff;font-size:15px;width:100%;letter-spacing:20px}.user-account[data-v-21f6f483], .user-password[data-v-21f6f483]{padding:20px 10px}.w-h-20[data-v-21f6f483]{width:20px;height:20px}body.?%PAGE?%[data-v-21f6f483]{background-color:#f4f6f8}',""]),t.exports=e},ff87:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADK0lEQVRYR+2WT4hVVRzHP7+TgiAMCC1moZLUpglGQt+7b1opltWqhRSEYS4kIXz3lSUlRKPQqsRmzhsK0xZFi8hWIuOfjRPEzL1vGijL2ZlhpYmbNqXGe/cbd3pTovPePeMMSOCFB49zfuf7+5zvOb9zjnGXP7vL+fn/AkQ19SPWSvSacc4c08mQ/TRfR+ftQOUVPawW72M8KbhqcBFYlyc2+LjV5K3JD+y3UJB5AZRj7TMYREwAu9O6JXmiqKoeHE8gDgkyl7EjGbFjIRDBAJVd2iDHGcH+hrd9ncSjmr42cT3x9viiAkSx8tleSL0930247cZ5E3sTb0eKIIIciKrqwzgnx2ONIcvt7/pFsfZirE+HbUtRbBBAuaZnTXyYeru/SDDvr1S1VcZnzessn/rI/uw2Jgggquo1jBdSb4+GAJRiPeXghMvonxix7xcOUFO+w0/fcKz4dsh+L4Io17TTxJuptzVFsUEOlHZrlWty0YxnkuHi8srL1cHKxNuORQGYqfVYXyLKad1WF1TBzIZ18PSEt5OLBrBhu5Zd6+EacBZjczpsV24Vj6rajHEK8WlatxeLkrdPz5Cwf2La5/8o0IN4O7uPMdfiRzkGEAP5KSkYXyK2jdftfIhy0B7IhQZe1UNZi68MftV/5/8Ds0kEPzi4ItgEHEAMp3X7pQgiCKASqyrwwFQunnr7PBcuvaxVLKX3xlKmzx6wP/K2fAMCW8wwMp5L6za9oDKcXdeiO+DmJOVdWuMch2X0FkF0daBUU8mJxnySz4L0v67ly/5ij8sYS0ZsrJMLXQGiWN8Ijne7/YrWuKi/I0AU6yVgsOlYPzVkl4uEOvVHsS5lS4gmD9rPc8V0A1iU2ZdibTJmHirbJr2N3woxJ0D79vuk6XgwZPZ5PKLvNnFDZP+2bkzrtjEIoBLrYF7Pqbe1d2p96Lg5HYhqyq26HPKgaNf+4MxbEZrtX+um/7Nto6m3nUEORLEkeLfh7Y3QmUSxjpr4LqnbO6FjOt4FUVVf4Ogj42qQmPFe6m20HGuw4W1/0Jh20NxLUNXK9gXzSIjYQs6JoLsgBOJOY+4B/A0moDowWpKmAAAAAABJRU5ErkJggg=="}}]);