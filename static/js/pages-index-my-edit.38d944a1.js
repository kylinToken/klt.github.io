(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-my-edit"],{"2baf":function(e,t,i){var n=i("e770");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("03279562",n,!0,{sourceMap:!1,shadowMode:!1})},"5dd7":function(e,t,i){"use strict";var n=i("2baf"),a=i.n(n);a.a},"6f97":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"page2 wrapperPage pad-all-12"},[i("v-uni-view",{staticClass:"font-size-16 font-color-666 font-bold"},[e._v("委员信息")]),i("v-uni-view",{staticClass:"bac-color-fff box-shadow mar-t-10"},[i("v-uni-view",{staticClass:"infoBox"},[i("v-uni-view",{staticClass:"cell"},[i("v-uni-text",{staticClass:"label"},[e._v("姓名")]),i("v-uni-input",{staticClass:"flex-1",attrs:{type:"text",value:e.model.realname,maxlength:"11",placeholder:"请输入姓名"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputUserNameVal.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-text",{staticClass:"label"},[e._v("手机")]),i("v-uni-input",{staticClass:"flex-1",attrs:{type:"text",value:e.model.mobile,maxlength:"11",placeholder:"请输入手机号"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputUserMobileVal.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-text",{staticClass:"label"},[e._v("行政网")]),i("v-uni-input",{staticClass:"flex-1",attrs:{type:"text",value:e.model.shot_mobile,maxlength:"20",placeholder:"请输入行政网短号"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputUserShotMobileVal.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-text",{staticClass:"label"},[e._v("办公座机")]),i("v-uni-input",{staticClass:"flex-1",attrs:{type:"text",value:e.model.office_phone,maxlength:"20",placeholder:"请输入办公座机"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputUserOfficeMobileVal.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-text",{staticClass:"label"},[e._v("单位和职务")]),i("v-uni-input",{staticClass:"flex-1",attrs:{type:"text",value:e.model.job,maxlength:"30",placeholder:"请输入单位和职务"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputUserJobVal.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cell2 font-bold border-bottom"},[e._v("注：填写一个最重要的实职，不超过两个职务。")]),i("v-uni-view",{staticClass:"emailInfoBox mar-t-5"},[i("v-uni-view",{staticClass:"cell"},[i("v-uni-text",{staticClass:"label"},[e._v("信件地址")]),i("v-uni-input",{staticClass:"flex-1 input2",attrs:{type:"text",value:e.model.user_address,maxlength:"30",placeholder:"请输入信件地址"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputUserAddressVal.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-text",{staticClass:"label"},[e._v("邮政编码")]),i("v-uni-input",{staticClass:"flex-1 input2",attrs:{type:"text",value:e.model.user_zipcode,maxlength:"30",placeholder:"请输入邮政编码"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputUserCodeVal.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cell2 font-bold"},[e._v("注：接收信件《联谊报》杂志等，信件地址和快递地址不一样，需要详细的地址，如：**镇**路**号**单位**楼**室。")])],1)],1),i("v-uni-view",{staticClass:"btnBox border-top"},[i("v-uni-button",{staticClass:"btnStyle",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.profileV2.apply(void 0,arguments)}}},[e._v("保存")])],1)],1)],1)},o=[]},"773d":function(e,t,i){"use strict";(function(e){var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("751a"),o=n(i("e85c")),l={components:{cell:o.default},data:function(){return{scrollBoxHeight:0,edit:!1,model:{typename:"",realname:"",group_text:"",mobile:"",shot_mobile:"",office_phone:"",job:"",user_address:"",user_zipcode:""}}},onLoad:function(){var t=uni.getStorageSync("user_info");this.setJsBridge(),e.log("userInfo",t);var i=t.organize;i&&("agent"==i.organizer_type?this.model.typename="委员":"depart"==i.organizer_type&&(this.model.typename="部门"),Object.assign(this.model,i),this.model.group_text=t.group_text,this.model.score=t.score,e.log("===this.model===",this.model)),(!i||"agent"!=i.organizer_type&&"depart"!=i.organizer_type)&&this.showModelSure("您无权限访问该页面",(function(){uni.navigateBack({delta:1})}),!1)},mounted:function(){},methods:{toView:function(){e.log("toView"),uni.navigateTo({url:"/pages/index/my/edit"})},inputUserNameVal:function(e){this.model.realname=e.target.value},inputUserMobileVal:function(e){this.model.mobile=e.target.value},inputUserShotMobileVal:function(e){this.model.shot_mobile=e.target.value},inputUserOfficeMobileVal:function(e){this.model.office_phone=e.target.value},inputUserJobVal:function(e){this.model.job=e.target.value},inputUserAddressVal:function(e){this.model.user_address=e.target.value},inputUserCodeVal:function(e){this.model.user_zipcode=e.target.value},profileV2:function(){var t=this,i=this.model;""!=i.realname?""!=i.mobile?""!=i.shot_mobile?""!=i.job?""!=i.user_address?""!=i.user_zipcode?(0,a.profileV2)(i).then((function(i){e.log("edit_save",i),i&&(t.bus.$emit("refreshUserInfo"),uni.redirectTo({url:"/pages/index/index"}))})):this.errorToShow("请输入邮政编码"):this.errorToShow("请输入信件地址"):this.errorToShow("请输入单位和职务"):this.errorToShow("请输入行政网短号"):this.errorToShow("请输入手机号"):this.errorToShow("请输入姓名")},editBtn:function(){e.log("model",this.model),this.edit=!0},saveBtn:function(){e.log("model",this.model),this.profileV2()},getUserInfo:function(){(0,a.userInfo)().then((function(t){e.log("res",t),uni.setStorageSync("user_info",t)}))},navigateTo:function(e){uni.navigateTo({url:"./detail?id=".concat(e&&e.id||1)})}}};t.default=l}).call(this,i("5a52")["default"])},"8b24":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"cell pad-t-10 pad-b-10 font-size-18 font-color-333 flex align-center justify-between"},[i("v-uni-text",{staticStyle:{flex:"0 0 100px"}},[e._v(e._s(e.label)+"：")]),i("v-uni-text",[e._v(e._s(e.value))])],1)},o=[]},a6f9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{label:{type:String,default:function(){return""}},value:{type:String,default:function(){return""}}},methods:{}};t.default=n},b72a:function(e,t,i){"use strict";i.r(t);var n=i("773d"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},d0d6:function(e,t,i){"use strict";i.r(t);var n=i("6f97"),a=i("b72a");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("5dd7");var l,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"1745f937",null,!1,n["a"],l);t["default"]=r.exports},e3a5:function(e,t,i){"use strict";i.r(t);var n=i("a6f9"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},e770:function(e,t,i){var n=i("4bad");t=n(!1),t.push([e.i,".page2[data-v-1745f937]{height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;box-sizing:border-box;background-color:#f1f0f4}.cell[data-v-1745f937]{border-bottom:1px solid #eaeaef;color:#333;font-size:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?% %?20?%}.cell .label[data-v-1745f937]{-webkit-box-flex:0;-webkit-flex:0 0 100px;flex:0 0 100px}.border-bottom[data-v-1745f937]{border-bottom:1px solid #eaeaef}.border-top[data-v-1745f937]{border-top:1px solid #eaeaef}.cell2[data-v-1745f937]{border-bottom:1px solid #eaeaef;color:#dd5548;font-size:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?% %?20?%}.cell2 .label[data-v-1745f937]{-webkit-box-flex:0;-webkit-flex:0 0 100px;flex:0 0 100px}.btnBox[data-v-1745f937]{padding:%?10?% %?40?%}uni-input[data-v-1745f937]{background-color:#fff;padding:3px 6px}.input2[data-v-1745f937]{background-color:inherit;padding:3px 6px}.infoBox[data-v-1745f937]{padding:0 %?10?% %?10?% %?10?%}.emailInfoBox[data-v-1745f937]{background-color:#dedede}.btnStyle[data-v-1745f937]{height:%?72?%;line-height:%?72?%;background-color:#dd5548;color:#fff;font-size:%?30?%;letter-spacing:%?4?%}",""]),e.exports=t},e85c:function(e,t,i){"use strict";i.r(t);var n=i("8b24"),a=i("e3a5");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);var l,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"573496f7",null,!1,n["a"],l);t["default"]=r.exports}}]);